(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{364:function(e,t,n){},382:function(e,t,n){},385:function(e,t,n){},387:function(e,t,n){},389:function(e,t,n){},413:function(e,t,n){},482:function(e,t,n){"use strict";n.r(t);var a=n(3),r=n.n(a),o=n(14),i=n.n(o),l=n(9),c=n.n(l),s=n(10),u=n.n(s),m=n(12),d=n.n(m),v=n(8),p=n.n(v),h=n(1),g=n.n(h),f=n(11),E=n.n(f),b=n(2),y=n.n(b),C=n(0),_=n.n(C),k=n(417),S=n.n(k),w=n(418),M=n(485),I=n(142),N=n(484),x=n(183),G=n(182),A=n(50),U=(n(413),function(e){var t=e.genres,n=e.genre,a=e.onGenreChange;return _.a.createElement("div",{className:"selection"},_.a.createElement("label",null,"Genre"),_.a.createElement("select",{value:n,onChange:a},t.map(function(e){return _.a.createElement("option",{key:e.id,value:e.name},e.name)})))}),R=n(411),T=n.n(R),D=(n(391),n(389),function(e){function t(){var e,n;c()(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return n=d()(this,(e=p()(t)).call.apply(e,[this].concat(r))),y()(g()(n),"onChange",function(e){n.props.onChange({type:n.props.data.label,value:e})}),n}return E()(t,e),u()(t,[{key:"render",value:function(){var e=this.props,t=e.label,n=e.sliderId,a=this.props.data,r=a.min,o=a.max,i=a.step,l=a.value;return _.a.createElement("div",{className:"slider"},_.a.createElement("label",{htmlFor:n},t),_.a.createElement(T.a,{id:n,minValue:r,maxValue:o,step:i,onChange:this.onChange,value:l}))}}]),t}(_.a.Component)),O=(n(387),function(e){var t=e.onClick,n=e.onClose;return _.a.createElement("div",{className:"search-button"},_.a.createElement("i",{class:"far fa-times-circle fa-2x",onClick:n}),_.a.createElement("i",{id:"custom-search-button",role:"navigation",tabIndex:0,class:"fas fa-chevron-circle-right fa-2x",style:{color:"blue"},onClick:t}))}),B=(n(385),function(e){function t(){return c()(this,t),d()(this,p()(t).apply(this,arguments))}return E()(t,e),u()(t,[{key:"focusSearch",value:function(e){[A.d.ENTER].includes(e.keyCode)&&(e.preventDefault(),selectGenre.click())}},{key:"componentDidMount",value:function(){document.getElementById("custom-search-button").focus(),document.addEventListener("keyup",this.focusSearch,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keyup",this.focusSearch,!1)}},{key:"render",value:function(){var e=this.props,t=e.genre,n=e.onModalClose,a=e.onGenreChange,r=e.onChange,o=e.year,i=e.rating,l=e.runtime,c=e.onSearchButtonClick;return _.a.createElement("section",{className:"navigation",search:!0,role:"search"},_.a.createElement(U,{genre:t,genres:A.e,onGenreChange:a}),_.a.createElement(D,{sliderId:"select-year",label:"Select Year:",data:o,onChange:r}),_.a.createElement(D,{sliderId:"select-rating",label:"Select rating:",data:i,onChange:r}),_.a.createElement(D,{sliderId:"select-len",label:"Select movie length:",data:l,onChange:r}),_.a.createElement(O,{onClick:c,onClose:n}))}}]),t}(_.a.Component)),L=n(138),j=n(26),Y=n.n(j),z=n(6),X=n.n(z),F=n(481),J=n(184),V=n(148),q=(n(364),function(e){var t=e.movie,n=t.id,a=t.title,r=t.poster_path,o=t.release_date,i=t.overview,l=t.vote_average,c="https://image.tmdb.org/t/p/w342/".concat(r),s=o&&o.substring(0,4),u="/movies/".concat(n);return _.a.createElement(F.a,{href:u,article:"true",role:"article"},_.a.createElement(J.a,{centered:!0,size:"large",src:c,alt:a}),_.a.createElement(F.a.Content,null,_.a.createElement(F.a.Header,{content:a}),_.a.createElement(F.a.Description,null,"".concat(i.slice(0,60),"..."))),_.a.createElement(F.a.Content,{extra:!0},_.a.createElement("div",{className:"extra-details"},_.a.createElement(L.d,{title:a,vote_average:l}),_.a.createElement(V.a,{basic:!0}," ",s," "))))}),H=function(e){var t=e.movies;return _.a.createElement(F.a.Group,{itemsPerRow:A.c,doubling:!0},!!t&&t.map(function(e){return _.a.createElement(q,{key:e.id,movie:e})}))};H.propTypes={movies:X.a.object.isRequired};var K=H,P=(n(382),function(e){var t=_.a.useState([]),n=Y()(t,2),a=n[0],r=n[1],o=_.a.useState(navigator.onLine),i=Y()(o,2),l=(i[0],i[1]),c=function(e){var t=document.getElementById("custom-search");[A.d.ENTER].includes(e.keyCode)&&(e.preventDefault(),t.click())};_.a.useEffect(function(){return document.addEventListener("keyup",c,!1),s(e.url),function(){document.removeEventListener("keyup",c,!1)}},[e.url]);var s=function(e){fetch(e).then(function(e){return e.json()}).then(function(e){return u(e)}).catch(function(e){console.log(">> something went wrong : ",e),l(!1)})},u=function(e){var t=e.results.map(function(e){return{overview:e.overview,vote_count:e.vote_count,id:e.id,genre_ids:e.genre_ids,poster_path:e.poster_path,title:e.title,vote_average:e.vote_average,release_date:e.release_date}});r(t),l(!1)},m=a||[];return _.a.createElement("div",{className:"movie-container",main:!0,role:"main"},_.a.createElement(K,{key:"movies-home",movies:m}))});P.propTypes={url:X.a.url};var W=P,Q=n(57),Z=A.b.MIN_YEAR,$=A.b.MAX_YEAR,ee=A.b.MIN_RATING,te=A.b.MAX_RATING,ne=A.b.MIN_TIME_MINS,ae=A.b.MAX_TIME_MINS,re=function(e){function t(){var e,n;c()(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return n=d()(this,(e=p()(t)).call.apply(e,[this].concat(r))),y()(g()(n),"state",{tabs:[],url:"https://api.themoviedb.org/3/genre/movie/list?api_key=651925d45022d1ae658063b443c99784&language=en-US",moviesUrl:"https://api.themoviedb.org/3/discover/movie?api_key=651925d45022d1ae658063b443c99784&language=en-US&sort_by=popularity.desc&include_adult=false&include_video=true&page=1",genre:null,year:{label:"year",min:1970,max:(new Date).getFullYear(),step:1,value:{min:Z,max:$}},rating:{label:"rating",min:0,max:10,step:1,value:{min:ee,max:te}},runtime:{label:"runtime",min:0,max:300,step:15,value:{min:ne,max:ae}},isOpen:!1,hasError:!1}),y()(g()(n),"airbrake",new S.a({projectId:219983,projectKey:"7881b9af5510c9794ba34bb4d525eecd"})),y()(g()(n),"onGenreChange",function(e){n.setState({genre:e.target.value})}),y()(g()(n),"onChange",function(e){n.setState(y()({},e.type,i()({},n.state[e.type],{value:e.value})))}),y()(g()(n),"toggleModal",function(){n.setState({isOpen:!n.state.isOpen})}),y()(g()(n),"onCloseModal",function(){n.setState({isOpen:!1})}),y()(g()(n),"generateUrl",function(){var e=n.state,t=e.year,a=e.rating,r=e.runtime,o=A.e.find(function(e){return e.name===(n.state.genre||"Action")}).id,i="https://api.themoviedb.org/3/discover/movie?api_key=651925d45022d1ae658063b443c99784&language=en-US&sort_by=popularity.desc&"+"with_genres=".concat(o,"&")+"primary_release_date.gte=".concat(t.value.min,"-01-01&")+"primary_release_date.lte=".concat(t.value.max,"-12-31&")+"vote_average.gte=".concat(a.value.min,"&")+"vote_average.lte=".concat(a.value.max,"&")+"with_runtime.gte=".concat(r.value.min,"&")+"with_runtime.lte=".concat(r.value.max,"&")+"page=1&";n.setState({moviesUrl:i})}),y()(g()(n),"onSearchButtonClick",function(){n.toggleModal(),n.generateUrl()}),n}return E()(t,e),u()(t,[{key:"componentDidMount",value:function(){var e=new Q.a("preferences"),t=new Q.a("allGenres"),n=e.get()&&e.get().map(function(e){return t.get().find(function(t){return t.id===e})})||[];this.setState({tabs:n})}},{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0}),this.airbrake.notify({error:e,params:{info:t}})}},{key:"render",value:function(){var e=this,t=this.state,n=t.genre,a=t.hasError,o=t.isOpen,i=t.tabs,l=this.props.offline,c=n||A.f;if(a)return _.a.createElement(L.a,null);if(i.length){var s=i.map(function(e){return{menuItem:e.name,render:function(){var t="https://api.themoviedb.org/3/discover/movie?include_adult=false&include_video=false&language=en-US&page=1&sort_by=popularity.desc&with_genres=".concat(e.id,"&api_key=").concat(A.a);return _.a.createElement(w.a,null,_.a.createElement(W,{url:t}))}}});return _.a.createElement(M.a,{panes:s})}return _.a.createElement("div",{className:"main"},_.a.createElement(I.a,{disabled:l,circular:!0,id:"custom-search",name:"filter",size:"big",tabIndex:2,onClick:this.toggleModal,className:"filter"}),_.a.createElement(N.a,{classNames:{modal:"modal-custom"},open:o,onClose:this.onCloseModal,size:"mini"},_.a.createElement(B,r()({onChange:this.onChange,onGenreChange:this.onGenreChange,onModalClose:this.onCloseModal,onSearchButtonClick:this.onSearchButtonClick,onClose:this.toggleModal},this.state))),l?_.a.createElement(L.c,null):_.a.createElement("div",{onOnline:function(t){return e.updateConnection(!1)},onOffline:function(t){return e.updateConnection(!0)}},_.a.createElement(x.a,{tabular:!0,attached:"top"},_.a.createElement(x.a.Item,{active:!0,color:c===A.f?"inherit":"blue",name:c})),_.a.createElement(G.a,{attached:"bottom"},_.a.createElement(W,{genre:this.state.genre,url:this.state.moviesUrl,onClick:this.toggleModal}))))}}]),t}(_.a.Component);t.default=re}}]);